---
const url = "https://seeregjwqrwebkvgypdc.supabase.co/rest/v1/testemonials?select=id";
const options = {
  headers: {
    apikey: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNlZXJlZ2p3cXJ3ZWJrdmd5cGRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODE3MTYxNDYsImV4cCI6MTk5NzI5MjE0Nn0.XDxHWVCU6_Dkqi_CKR_urwduoP07Z4OSCb8reQOd0Aw",
  },
};
const response = await fetch(url, options);
const data = await response.json();
const randomRows = data.sort(() => Math.random() - 0.5).slice(0, 3);

console.log(data);
import "../styles/layout.css";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import Testamopnials from "../components/Testamopnials.astro";
import Hylde from "../components/Hylde.astro";
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>Astro</title>
  </head>
  <body>
    <main>
      <Header />
      <video controls muted autoplay="autoplay" loop="">
        <source src="video/trailer.mp4" type="video/mp4" />
      </video>
      <Footer />

      <h1>Testamonials</h1>
      <Hylde>
        {
          data.map((act) => {
            return <Testamopnials id={act.id} testemonial={act.testemonial} />;
          })
        }
      </Hylde>
    </main>
  </body>
</html>
